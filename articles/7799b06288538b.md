---
title: "Ubuntu24.04デスクトップでKVM(lib-virt)を使った環境構築を行うメモ"
emoji: "👋"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["linux", "kvm"]
published: false
---

(前置き)

Windowsで開発するときは大体WSLを使うが、
そうすることで自然と仮想環境をベースに作業をすることになっており、
作業環境の複製や保存、取り込みといったことが非常にしやすい利点があることに気づいた。
つまり、WSLの利点はLinuxが使えることだけではなく、簡単に仮想環境を使えることにもあると考えられる。(使い方次第だが)

この辺に着想を得て、Linuxで開発環境を作るとして、
デスクトップ用途＋母艦として使うOSと実際の開発などを行う環境は分離し、後者はKVMなどで仮想環境を使うと色々良いのでは？ということを考え、具体的には以下のようなコンセプトでの環境構築を行ってみた：

- ホスト側のOSは安定性が高く(←最重要)、デスクトップ用途での使用実績が多いものを重視する
    - 今回はUbuntuのLTS版を使う
    - 仮想マシンのホストとして動作させるのと、Webブラウザなどデスクトップとしての機能を重視
- ゲスト側は、
    - パフォーマンスを落とさないためにベアメタル型の仮想マシンを使う
    - メモリやCPUは柔軟に割り当てられるといい(←これは今どき大体そうなのであまり心配いらない)
    - 基本はサーバータイプ(デスクトップ無し)のゲストOSを立てて、sshで入って操作する(Gnome Terminalなどにプロファイルは登録しておくことで簡単に入れるようにする)また、適宜フォルダ共有もする
    - ホスト型と違って自由に色々なOSを立てる
